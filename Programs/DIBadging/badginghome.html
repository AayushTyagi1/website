<!DOCTYPE html>
<html>
<body>
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<div id="mdiv">

</div>
<div id="end">
  <h2>Click here to submit an event to be badged!</h2>
<a href=./in-person.html><input id="fsub" type="submit" value="In-Person Event"></a><br>
<a href=./virtual.html><input id="fsub" type="submit" value="Virtual Event"></a><br>
</div>
<div id="template" style="display:none">
# Event Submission

## Requirements

- Event Name: {pname}
- Link to the Event Website: {linkweb}

## Speaker Demographics

- [{sdcb}] This event commits to Speaker Diversity and Inclusion.
  - `Q` Detail the process for measuring Speaker Demographics.
  - `A` {sddsc}
  - `Q` Provide the link for the page related to Speaker Demographics if available.
  - `A` {sdlink}

## Attendee Demographics

- [{adcb}] This event commits to Attendee Diversity and Inclusion.
  - `Q` Detail the process for measuring Attendee Demographics.
  - `A` {addsc}
  - `Q` Provide the link for the page related to Attendee Demographics if available.
  - `A` {adlink}

## Code of Conduct at Event

- [{coccb}] This event commits to the Code of Conduct at Event.
  - `Q` Is the code of conduct posted?
  - `A` {coclink}
  - `Q` Provide a link for the Event Code of Conduct.
  - `A` {cocdsc}

## Diversity Access Tickets

- [{dtcb}] This event commits to the Diversity Access Tickets.
  - `Q` How many different types of diversity access tickets are available for the event?
  - `A` {dt2}
  - `Q` What are the criteria for qualifying for a diversity access ticket?
  - `A` {dt3}
  - `Q` Provide a link to the page containing information about Diversity Access Tickets.
  - `A` {dt1}

## Family Friendliness

- [{ffcb}] This event commits to Family Friendliness.
  - `Q` Does the Event provide childcare facilities for its attendees and speakers?
  - `A` {ff1}
  - `Q` What are the other ways that a family-friendly environment is being created in the Event?
  - `A` {ff2}
  - `Q` Provide relevant links related to family friendliness at the Event.
  - `A` {ff3}    
</div>

<br>
<p>Once you click "submit", you must use your GitHub account to finalize the issue on their Website by clicking "Create New Issue".</p>
<input id="fback" type="submit" value="Go Back" style="display:none">
<script>
    document.getElementById("fsub").addEventListener("click", function(){
      let text = document.getElementById("template").innerHTML;
      let inputs = document.getElementsByTagName('input');
      let index = 0;
      for (index = 0; index < inputs.length; ++index) {
        let cur = inputs[index];
        if (cur.type == "text") {
          text = text.replace("{" + cur.id + "}", cur.value)
        } else if (cur.type == "checkbox") {
          if (cur.checked == true){
            text = text.replace("{" + cur.id + "}", "x");
          } else {
            text = text.replace("{" + cur.id + "}", " ");
          }
        }
      }
      const pName = document.getElementById("pname").value
      const openIssueURL = `https://github.com/badging/event-diversity-and-inclusion/issues/new?title=${encodeURIComponent(`Virtual Event Badge Submission: ${pName}`)}&body=${encodeURIComponent(text)}`;
      let loginAndOpenIssueURL = `https://github.com/login?return_to=${encodeURIComponent(openIssueURL)}`;
      console.log({openIssueURL, loginAndOpenIssueURL, pName, text, });
      window.location.href = loginAndOpenIssueURL;
    });
</script>
</body>
</html>
